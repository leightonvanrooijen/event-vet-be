"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fc = require("fast-check");
const assertThat_1 = require("../assertThat");
const ofType_1 = require("../ofType");
const match_1 = require("../match");
const AnyMatcher_propTest_1 = require("./AnyMatcher.propTest");
describe("match.itIs() property tests:", () => {
    describe("value always matches itself", () => {
        const check = (property) => fc.assert(fc.property(property, (value) => {
            (0, assertThat_1.assertThat)(value).is(match_1.match.itIs(value));
        }));
        it('A string or symbol', () => {
            check(fc.oneof(fc.string(), fc.char(), fc.string().map(s => Symbol(s))));
        });
        it('A number', () => {
            check(fc.oneof(fc.integer(), fc.float(), fc.double()).filter(v => !isNaN(v)));
        });
        it('A number or boolean', () => {
            check(fc.boolean());
        });
        it('A null or undefined', () => {
            check(fc.oneof(fc.constant(undefined), fc.constant(null)));
        });
        it('A build-in object', () => {
            check(fc.oneof(fc.bigInt(), fc.date(), fc.string().map(s => fc.constant(new Error(s)))));
        });
        it('An object', () => {
            check(fc.oneof(fc.object()));
        });
        it('An array or tuple value', () => {
            check(fc.oneof(fc.array(fc.integer()), fc.tuple(fc.integer(), fc.string())));
        });
    });
    describe("value never matches a different value", () => {
        it('differs ', () => {
            const valueThatIsNotNaN = () => (0, AnyMatcher_propTest_1.anyJavascriptValue)()
                .filter((v) => !ofType_1.ofType.isNumber(v) || !isNaN(v));
            fc.assert(fc.property(fc.tuple(valueThatIsNotNaN(), valueThatIsNotNaN()), (value) => {
                const v0 = value[0];
                const v1 = value[1];
                if (v0 !== v1)
                    (0, assertThat_1.assertThat)(v0).isNot(match_1.match.itIs(v1));
            }));
        });
    });
});
//# sourceMappingURL=ItIsMatcher.propTest.js.map